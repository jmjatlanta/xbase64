\hypertarget{xbrelate_8h_source}{}\doxysection{xbrelate.\+h}
\label{xbrelate_8h_source}\index{/mnt/1Tdata/xbase/xbase64-\/4.1.11/src/include/xbrelate.h@{/mnt/1Tdata/xbase/xbase64-\/4.1.11/src/include/xbrelate.h}}
\mbox{\hyperlink{xbrelate_8h}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{1 \textcolor{comment}{/*  xbrelate.h}}
\DoxyCodeLine{2 \textcolor{comment}{}}
\DoxyCodeLine{3 \textcolor{comment}{XBase64 Software Library}}
\DoxyCodeLine{4 \textcolor{comment}{}}
\DoxyCodeLine{5 \textcolor{comment}{Copyright (c) 1997,2003,2014,2022,2023,2024 Gary A Kunkel}}
\DoxyCodeLine{6 \textcolor{comment}{}}
\DoxyCodeLine{7 \textcolor{comment}{The xb64 software library is covered under the terms of the GPL Version 3, 2007 license.}}
\DoxyCodeLine{8 \textcolor{comment}{}}
\DoxyCodeLine{9 \textcolor{comment}{Email Contact:}}
\DoxyCodeLine{10 \textcolor{comment}{}}
\DoxyCodeLine{11 \textcolor{comment}{    XDB-\/devel@lists.sourceforge.net}}
\DoxyCodeLine{12 \textcolor{comment}{    XDB-\/users@lists.sourceforge.net}}
\DoxyCodeLine{13 \textcolor{comment}{}}
\DoxyCodeLine{14 \textcolor{comment}{*/}}
\DoxyCodeLine{15 }
\DoxyCodeLine{16 \textcolor{preprocessor}{\#ifndef \_\_XB\_RELATE\_H\_\_}}
\DoxyCodeLine{17 \textcolor{preprocessor}{\#define \_\_XB\_RELATE\_H\_\_}}
\DoxyCodeLine{18 }
\DoxyCodeLine{19 \textcolor{preprocessor}{\#ifdef  CMAKE\_COMPILER\_IS\_GNUCC}}
\DoxyCodeLine{20 \textcolor{preprocessor}{\#pragma interface}}
\DoxyCodeLine{21 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{22 }
\DoxyCodeLine{23 }
\DoxyCodeLine{24 \textcolor{keyword}{namespace }\mbox{\hyperlink{namespacexb}{xb}}\{}
\DoxyCodeLine{25 }
\DoxyCodeLine{26 \textcolor{comment}{//\#define XB\_REL\_READY 0}}
\DoxyCodeLine{27 \textcolor{comment}{//\#define XB\_REL\_FOUND 1}}
\DoxyCodeLine{28 \textcolor{comment}{//\#define XB\_REL\_NF\_OPT 2}}
\DoxyCodeLine{29 \textcolor{comment}{//\#define XB\_REL\_NF\_REQ 3}}
\DoxyCodeLine{30 }
\DoxyCodeLine{32 }
\DoxyCodeLine{33 \textcolor{keyword}{struct }XBDLLEXPORT xbRelation\{}
\DoxyCodeLine{34 }
\DoxyCodeLine{35   xbRelation * pParent;}
\DoxyCodeLine{36 }
\DoxyCodeLine{38   xbString   * sParentExpression;}
\DoxyCodeLine{39 }
\DoxyCodeLine{41   xbExp      * pParentExp;}
\DoxyCodeLine{42 }
\DoxyCodeLine{43   xbUInt32     ulSaveParRecNo;}
\DoxyCodeLine{44 }
\DoxyCodeLine{45   xbDbf      * dDbf;}
\DoxyCodeLine{46   xbIx       * pIx;}
\DoxyCodeLine{47   \textcolor{keywordtype}{void}       * pTag;}
\DoxyCodeLine{48   xbString   * sFilter;}
\DoxyCodeLine{49   \textcolor{keywordtype}{char}         cType;     \textcolor{comment}{// M -\/ Master}}
\DoxyCodeLine{50                           \textcolor{comment}{// O -\/ Optional}}
\DoxyCodeLine{51                           \textcolor{comment}{// R -\/ Required}}
\DoxyCodeLine{52 }
\DoxyCodeLine{54   xbInt16      iStatus;}
\DoxyCodeLine{55 }
\DoxyCodeLine{57   xbInt32      ulRecPos;  \textcolor{comment}{// }}
\DoxyCodeLine{58 }
\DoxyCodeLine{60   xbFilter   * pFilt;}
\DoxyCodeLine{61 }
\DoxyCodeLine{63   xbLinkList<xbRelation *> llChildren;}
\DoxyCodeLine{64 }
\DoxyCodeLine{66   xbLinkListNode<xbRelation *> *pParentNp;}
\DoxyCodeLine{67 \};}
\DoxyCodeLine{69 }
\DoxyCodeLine{70 }
\DoxyCodeLine{72 }
\DoxyCodeLine{90 \textcolor{keyword}{class }XBDLLEXPORT \mbox{\hyperlink{classxb_1_1xbRelate}{xbRelate}} \{}
\DoxyCodeLine{91 }
\DoxyCodeLine{92  \textcolor{keyword}{public}:}
\DoxyCodeLine{94   \mbox{\hyperlink{classxb_1_1xbRelate_ad7ab5fba2bcccd06d67eaf48c5cb547f}{xbRelate}}( \mbox{\hyperlink{classxb_1_1xbXBase}{xbXBase}} *xbase );}
\DoxyCodeLine{95 }
\DoxyCodeLine{97   \mbox{\hyperlink{classxb_1_1xbRelate_a7ee06b12824c15881d426b8ee1a5e840}{\string~xbRelate}}();}
\DoxyCodeLine{98 }
\DoxyCodeLine{100 }
\DoxyCodeLine{111   xbInt16 \mbox{\hyperlink{classxb_1_1xbRelate_a497fb6f8abf51293a4c30733584391a2}{AddRelation}}( }
\DoxyCodeLine{112       \mbox{\hyperlink{classxb_1_1xbDbf}{xbDbf}} *dParent,                     \textcolor{comment}{// parent table}}
\DoxyCodeLine{113       \textcolor{keyword}{const} \mbox{\hyperlink{classxb_1_1xbString}{xbString}} \&sParentExpression,  \textcolor{comment}{// parent expression, needs to match pChildTag}}
\DoxyCodeLine{114       \mbox{\hyperlink{classxb_1_1xbDbf}{xbDbf}} *dChild,                      \textcolor{comment}{// child table }}
\DoxyCodeLine{115       \textcolor{keyword}{const} \mbox{\hyperlink{classxb_1_1xbString}{xbString}} \&sChildTagName,      \textcolor{comment}{// child tag name}}
\DoxyCodeLine{116       \textcolor{keywordtype}{char} cType = \textcolor{charliteral}{'O'},                   \textcolor{comment}{// O = Optional, R = required}}
\DoxyCodeLine{117       \textcolor{keyword}{const} \mbox{\hyperlink{classxb_1_1xbString}{xbString}} \&sFilter = \textcolor{stringliteral}{"{}"{}}        \textcolor{comment}{// optional child record filter}}
\DoxyCodeLine{118   );}
\DoxyCodeLine{119 }
\DoxyCodeLine{121 }
\DoxyCodeLine{133   xbInt16 \mbox{\hyperlink{classxb_1_1xbRelate_acef45f3e768560e8fcd6dfa3cd29f97c}{AddRelation}}( }
\DoxyCodeLine{134       \mbox{\hyperlink{classxb_1_1xbDbf}{xbDbf}} *dParent,                     \textcolor{comment}{// parent table}}
\DoxyCodeLine{135       \textcolor{keyword}{const} \mbox{\hyperlink{classxb_1_1xbString}{xbString}} \&sParentExpression,  \textcolor{comment}{// parent expression, needs to match pChildTag}}
\DoxyCodeLine{136       \mbox{\hyperlink{classxb_1_1xbDbf}{xbDbf}} *dChild,                      \textcolor{comment}{// child table }}
\DoxyCodeLine{137       xbIx *pChildIx,                     \textcolor{comment}{// child index}}
\DoxyCodeLine{138       \textcolor{keywordtype}{void} *pChildTag,                    \textcolor{comment}{// child tag}}
\DoxyCodeLine{139       \textcolor{keywordtype}{char} cType = \textcolor{charliteral}{'O'},                   \textcolor{comment}{// O = Optional, R = required}}
\DoxyCodeLine{140       \textcolor{keyword}{const} \mbox{\hyperlink{classxb_1_1xbString}{xbString}} \&sFilter = \textcolor{stringliteral}{"{}"{}}        \textcolor{comment}{// optional child record filter}}
\DoxyCodeLine{141   );}
\DoxyCodeLine{142 }
\DoxyCodeLine{144 }
\DoxyCodeLine{152   xbInt16 CheckTblSts( \mbox{\hyperlink{classxb_1_1xbDbf}{xbDbf}} *d );}
\DoxyCodeLine{153 }
\DoxyCodeLine{155 }
\DoxyCodeLine{164   xbInt16 \mbox{\hyperlink{classxb_1_1xbRelate_a370eec53e54530ee7a569c3bd92bd95c}{GetFirstRelRecord}}();}
\DoxyCodeLine{165 }
\DoxyCodeLine{167 }
\DoxyCodeLine{176   xbInt16 \mbox{\hyperlink{classxb_1_1xbRelate_a78f3c4d7aa47405512848c8f729bc380}{GetLastRelRecord}}();}
\DoxyCodeLine{177 }
\DoxyCodeLine{179 }
\DoxyCodeLine{188   xbInt16 \mbox{\hyperlink{classxb_1_1xbRelate_af06ce562407cc49d6c58df202974f09e}{GetNextRelRecord}}();}
\DoxyCodeLine{189 }
\DoxyCodeLine{190 }
\DoxyCodeLine{192 }
\DoxyCodeLine{201   xbInt16 \mbox{\hyperlink{classxb_1_1xbRelate_af2d4a35dd35ba35294a427ea2b695157}{GetPrevRelRecord}}();}
\DoxyCodeLine{202 }
\DoxyCodeLine{204 }
\DoxyCodeLine{213   xbInt16 \mbox{\hyperlink{classxb_1_1xbRelate_a7cdeaea89342d09cef5d269e3db67c86}{SetMaster}}( \mbox{\hyperlink{classxb_1_1xbDbf}{xbDbf}} * dTbl, \textcolor{keyword}{const} \mbox{\hyperlink{classxb_1_1xbString}{xbString}} \&sFilter = \textcolor{stringliteral}{"{}"{}} );}
\DoxyCodeLine{214 }
\DoxyCodeLine{215 \textcolor{preprocessor}{  \#ifdef XB\_DEBUG\_SUPPORT}}
\DoxyCodeLine{216 }
\DoxyCodeLine{218   \textcolor{keywordtype}{void} DumpRelationList();}
\DoxyCodeLine{219   \textcolor{keywordtype}{void} DumpRelationNode( \textcolor{keyword}{const} \mbox{\hyperlink{classxb_1_1xbString}{xbString}} \&sTitle, xbRelation *pRel );}
\DoxyCodeLine{220   \textcolor{keywordtype}{void} DumpRelationTree();}
\DoxyCodeLine{221   xbInt16 CheckRecNo( xbInt16 iPo, xbInt32 lRec0, xbInt32 lRec1 = -\/1,}
\DoxyCodeLine{222                       xbInt32 lRec2 = -\/1, xbInt32 lRec3 = -\/1, xbInt32 lRec4 = -\/1,}
\DoxyCodeLine{223                       xbInt32 lRec5 = -\/1, xbInt32 lRec6 = -\/1, xbInt32 lRec7 = -\/1 );}
\DoxyCodeLine{225 }
\DoxyCodeLine{226 \textcolor{preprocessor}{  \#endif }\textcolor{comment}{// XB\_DEBUG\_SUPPORT}}
\DoxyCodeLine{227 }
\DoxyCodeLine{228  \textcolor{keyword}{protected}:}
\DoxyCodeLine{229 }
\DoxyCodeLine{231   xbInt16 CompareKeys( xbRelation *pRel, \mbox{\hyperlink{classxb_1_1xbString}{xbString}} \&s1, \mbox{\hyperlink{classxb_1_1xbString}{xbString}} \&s2, \mbox{\hyperlink{namespacexb_a25f47b226ce924a5c78f97989b0744a2}{xbDouble}} \&d1, \mbox{\hyperlink{namespacexb_a25f47b226ce924a5c78f97989b0744a2}{xbDouble}} \&d2, \mbox{\hyperlink{classxb_1_1xbDate}{xbDate}} \&dt1, \mbox{\hyperlink{classxb_1_1xbDate}{xbDate}} \&dt2 );}
\DoxyCodeLine{232   \mbox{\hyperlink{classxb_1_1xbLinkListNode}{xbLinkListNode<xbRelation *>}} *FindNodeForDbf( \mbox{\hyperlink{classxb_1_1xbDbf}{xbDbf}} * d );}
\DoxyCodeLine{233   \mbox{\hyperlink{classxb_1_1xbLinkListNode}{xbLinkListNode<xbRelation *>}} *GetLastTreeNode( \mbox{\hyperlink{classxb_1_1xbLinkListNode}{xbLinkListNode<xbRelation *>}} *lln );}
\DoxyCodeLine{234   \mbox{\hyperlink{classxb_1_1xbLinkListNode}{xbLinkListNode<xbRelation *>}} *GetNextTreeNode( \mbox{\hyperlink{classxb_1_1xbLinkListNode}{xbLinkListNode<xbRelation *>}} *lln );}
\DoxyCodeLine{235   xbInt16 GetRelRecord( \textcolor{keyword}{const} \textcolor{keywordtype}{char} cDirection );}
\DoxyCodeLine{236   xbInt16 GetFirstRecForNode( \mbox{\hyperlink{classxb_1_1xbLinkListNode}{xbLinkListNode<xbRelation *>}} *lln );}
\DoxyCodeLine{237   xbInt16 GetLastRecForNode( \mbox{\hyperlink{classxb_1_1xbLinkListNode}{xbLinkListNode<xbRelation *>}} *lln );}
\DoxyCodeLine{238   xbInt16 GetNextRecForNode( \mbox{\hyperlink{classxb_1_1xbLinkListNode}{xbLinkListNode<xbRelation *>}} *lln );}
\DoxyCodeLine{239   xbInt16 GetPrevRecForNode( \mbox{\hyperlink{classxb_1_1xbLinkListNode}{xbLinkListNode<xbRelation *>}} *lln );}
\DoxyCodeLine{240   xbInt16 GetParentRelKeys( xbRelation *pRel, \mbox{\hyperlink{classxb_1_1xbString}{xbString}} \&s, \mbox{\hyperlink{namespacexb_a25f47b226ce924a5c78f97989b0744a2}{xbDouble}} \&d, \mbox{\hyperlink{classxb_1_1xbDate}{xbDate}} \&dt );}
\DoxyCodeLine{241   xbInt16 GetChildRelKeys( xbRelation *pRel, \mbox{\hyperlink{classxb_1_1xbString}{xbString}} \&s, \mbox{\hyperlink{namespacexb_a25f47b226ce924a5c78f97989b0744a2}{xbDouble}} \&d, \mbox{\hyperlink{classxb_1_1xbDate}{xbDate}} \&dt );}
\DoxyCodeLine{242   xbInt16 InitQuery();}
\DoxyCodeLine{243   xbInt16 RelKeySearch( xbRelation *pRel, \textcolor{keyword}{const} \textcolor{keywordtype}{char} cFL,  \mbox{\hyperlink{classxb_1_1xbString}{xbString}} \&s, \mbox{\hyperlink{namespacexb_a25f47b226ce924a5c78f97989b0744a2}{xbDouble}} \&d, \mbox{\hyperlink{classxb_1_1xbDate}{xbDate}} \&dt );}
\DoxyCodeLine{245 }
\DoxyCodeLine{246  \textcolor{keyword}{private}:}
\DoxyCodeLine{247   \mbox{\hyperlink{classxb_1_1xbXBase}{xbXBase}}    *xbase;       \textcolor{comment}{// pointer to main structures}}
\DoxyCodeLine{248 }
\DoxyCodeLine{249   \mbox{\hyperlink{classxb_1_1xbLinkList}{xbLinkList<xbRelation *>}} llQryTree;   \textcolor{comment}{// pointer to structured tree of linked lists}}
\DoxyCodeLine{250   \mbox{\hyperlink{classxb_1_1xbLinkList}{xbLinkList<xbRelation *>}} llQryList;   \textcolor{comment}{// linked list of relations used by the query routines}}
\DoxyCodeLine{251 }
\DoxyCodeLine{252 \};}
\DoxyCodeLine{253 }
\DoxyCodeLine{254 \}  \textcolor{comment}{/* namespace */}}
\DoxyCodeLine{255 \textcolor{preprocessor}{\#endif  }\textcolor{comment}{/*  \_\_XB\_RELATE\_H\_\_  */}\textcolor{preprocessor}{}}

\end{DoxyCode}
