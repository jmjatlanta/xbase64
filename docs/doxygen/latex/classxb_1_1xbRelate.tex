\hypertarget{classxb_1_1xbRelate}{}\doxysection{xb\+::xb\+Relate Class Reference}
\label{classxb_1_1xbRelate}\index{xb::xbRelate@{xb::xbRelate}}


Class for handling table relation logic.  




{\ttfamily \#include $<$xbrelate.\+h$>$}

\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classxb_1_1xbRelate_ad7ab5fba2bcccd06d67eaf48c5cb547f}{xb\+Relate}} (\mbox{\hyperlink{classxb_1_1xbXBase}{xb\+XBase}} $\ast$xbase)
\begin{DoxyCompactList}\small\item\em Constructor. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classxb_1_1xbRelate_a7ee06b12824c15881d426b8ee1a5e840}{$\sim$xb\+Relate}} ()
\begin{DoxyCompactList}\small\item\em Destructor. \end{DoxyCompactList}\item 
xb\+Int16 \mbox{\hyperlink{classxb_1_1xbRelate_a497fb6f8abf51293a4c30733584391a2}{Add\+Relation}} (\mbox{\hyperlink{classxb_1_1xbDbf}{xb\+Dbf}} $\ast$d\+Parent, const \mbox{\hyperlink{classxb_1_1xbString}{xb\+String}} \&s\+Parent\+Expression, \mbox{\hyperlink{classxb_1_1xbDbf}{xb\+Dbf}} $\ast$d\+Child, const \mbox{\hyperlink{classxb_1_1xbString}{xb\+String}} \&s\+Child\+Tag\+Name, char c\+Type=\textquotesingle{}O\textquotesingle{}, const \mbox{\hyperlink{classxb_1_1xbString}{xb\+String}} \&s\+Filter=\char`\"{}\char`\"{})
\begin{DoxyCompactList}\small\item\em Add a relationship to an xb\+Relation. \end{DoxyCompactList}\item 
xb\+Int16 \mbox{\hyperlink{classxb_1_1xbRelate_acef45f3e768560e8fcd6dfa3cd29f97c}{Add\+Relation}} (\mbox{\hyperlink{classxb_1_1xbDbf}{xb\+Dbf}} $\ast$d\+Parent, const \mbox{\hyperlink{classxb_1_1xbString}{xb\+String}} \&s\+Parent\+Expression, \mbox{\hyperlink{classxb_1_1xbDbf}{xb\+Dbf}} $\ast$d\+Child, xb\+Ix $\ast$p\+Child\+Ix, void $\ast$p\+Child\+Tag, char c\+Type=\textquotesingle{}O\textquotesingle{}, const \mbox{\hyperlink{classxb_1_1xbString}{xb\+String}} \&s\+Filter=\char`\"{}\char`\"{})
\begin{DoxyCompactList}\small\item\em Add a relationship to an xb\+Relation. \end{DoxyCompactList}\item 
xb\+Int16 \mbox{\hyperlink{classxb_1_1xbRelate_a370eec53e54530ee7a569c3bd92bd95c}{Get\+First\+Rel\+Record}} ()
\begin{DoxyCompactList}\small\item\em Get First Rel Record. \end{DoxyCompactList}\item 
xb\+Int16 \mbox{\hyperlink{classxb_1_1xbRelate_a78f3c4d7aa47405512848c8f729bc380}{Get\+Last\+Rel\+Record}} ()
\begin{DoxyCompactList}\small\item\em Get Last Rel Record. \end{DoxyCompactList}\item 
xb\+Int16 \mbox{\hyperlink{classxb_1_1xbRelate_af06ce562407cc49d6c58df202974f09e}{Get\+Next\+Rel\+Record}} ()
\begin{DoxyCompactList}\small\item\em Get Next Rel Record. \end{DoxyCompactList}\item 
xb\+Int16 \mbox{\hyperlink{classxb_1_1xbRelate_af2d4a35dd35ba35294a427ea2b695157}{Get\+Prev\+Rel\+Record}} ()
\begin{DoxyCompactList}\small\item\em Get Prev Rel Record. \end{DoxyCompactList}\item 
xb\+Int16 \mbox{\hyperlink{classxb_1_1xbRelate_a7cdeaea89342d09cef5d269e3db67c86}{Set\+Master}} (\mbox{\hyperlink{classxb_1_1xbDbf}{xb\+Dbf}} $\ast$d\+Tbl, const \mbox{\hyperlink{classxb_1_1xbString}{xb\+String}} \&s\+Filter=\char`\"{}\char`\"{})
\begin{DoxyCompactList}\small\item\em Set Master Table for an xb\+Relation. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Class for handling table relation logic. 

The \mbox{\hyperlink{classxb_1_1xbRelate}{xb\+Relate}} class is used define master / slave relationships between tables


\begin{DoxyItemize}
\item Similar in functionality to SQL joins 
\item The highest level has one entry, the main master/parent node which can have one or more slave/child nodes. 
\item Slave/child tables can be the master table in lower level master/slave relationships 
\item There are two types of master/slave relationship -\/ Optional (think left join) or Required (think inner join). 
\item Handled internally as a tree of linked lists. The tree is processed using a depth first algorith for traversing the tree. 
\item There is a one to many relationship between master and slave relationships. 
\item After the relationships are established, using the \mbox{\hyperlink{classxb_1_1xbRelate_a370eec53e54530ee7a569c3bd92bd95c}{Get\+First\+Rel\+Record()}}, \mbox{\hyperlink{classxb_1_1xbRelate_af06ce562407cc49d6c58df202974f09e}{Get\+Next\+Rel\+Record()}}, \mbox{\hyperlink{classxb_1_1xbRelate_a78f3c4d7aa47405512848c8f729bc380}{Get\+Last\+Rel\+Record()}} and \mbox{\hyperlink{classxb_1_1xbRelate_af2d4a35dd35ba35294a427ea2b695157}{Get\+Prev\+Rel\+Record()}} are used to navigate thtough the data.


\end{DoxyItemize}

\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{classxb_1_1xbRelate_ad7ab5fba2bcccd06d67eaf48c5cb547f}\label{classxb_1_1xbRelate_ad7ab5fba2bcccd06d67eaf48c5cb547f}} 
\index{xb::xbRelate@{xb::xbRelate}!xbRelate@{xbRelate}}
\index{xbRelate@{xbRelate}!xb::xbRelate@{xb::xbRelate}}
\doxysubsubsection{\texorpdfstring{xbRelate()}{xbRelate()}}
{\footnotesize\ttfamily xb\+::xb\+Relate\+::xb\+Relate (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classxb_1_1xbXBase}{xb\+XBase}} $\ast$}]{xbase }\end{DoxyParamCaption})}



Constructor. 

\mbox{\Hypertarget{classxb_1_1xbRelate_a7ee06b12824c15881d426b8ee1a5e840}\label{classxb_1_1xbRelate_a7ee06b12824c15881d426b8ee1a5e840}} 
\index{xb::xbRelate@{xb::xbRelate}!````~xbRelate@{$\sim$xbRelate}}
\index{````~xbRelate@{$\sim$xbRelate}!xb::xbRelate@{xb::xbRelate}}
\doxysubsubsection{\texorpdfstring{$\sim$xbRelate()}{~xbRelate()}}
{\footnotesize\ttfamily xb\+::xb\+Relate\+::$\sim$xb\+Relate (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Destructor. 



\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{classxb_1_1xbRelate_a497fb6f8abf51293a4c30733584391a2}\label{classxb_1_1xbRelate_a497fb6f8abf51293a4c30733584391a2}} 
\index{xb::xbRelate@{xb::xbRelate}!AddRelation@{AddRelation}}
\index{AddRelation@{AddRelation}!xb::xbRelate@{xb::xbRelate}}
\doxysubsubsection{\texorpdfstring{AddRelation()}{AddRelation()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily xb\+Int16 xb\+::xb\+Relate\+::\+Add\+Relation (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classxb_1_1xbDbf}{xb\+Dbf}} $\ast$}]{d\+Parent,  }\item[{const \mbox{\hyperlink{classxb_1_1xbString}{xb\+String}} \&}]{s\+Parent\+Expression,  }\item[{\mbox{\hyperlink{classxb_1_1xbDbf}{xb\+Dbf}} $\ast$}]{d\+Child,  }\item[{const \mbox{\hyperlink{classxb_1_1xbString}{xb\+String}} \&}]{s\+Child\+Tag\+Name,  }\item[{char}]{c\+Type = {\ttfamily \textquotesingle{}O\textquotesingle{}},  }\item[{const \mbox{\hyperlink{classxb_1_1xbString}{xb\+String}} \&}]{s\+Filter = {\ttfamily \char`\"{}\char`\"{}} }\end{DoxyParamCaption})}



Add a relationship to an xb\+Relation. 

This routine is called after the \mbox{\hyperlink{classxb_1_1xbRelate_a7cdeaea89342d09cef5d269e3db67c86}{Set\+Master()}} method is called.


\begin{DoxyParams}{Parameters}
{\em d\+Parent} & Pointer to parent/master table. \\
\hline
{\em s\+Parent\+Expression} & Parent table expression that links to the child table. \\
\hline
{\em d\+Child} & Pointer to child/slave table. \\
\hline
{\em s\+Child\+Tag\+Name} & Name of Child tag to use. \\
\hline
{\em c\+Type} & O = Optional (left join)~\newline
R = Required (inner join) \\
\hline
{\em s\+Filter} & Optional child tag filter (place holder for future version of software). \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
\href{xbretcod_8h.html}{\texttt{ Return Codes}} 
\end{DoxyReturn}
\mbox{\Hypertarget{classxb_1_1xbRelate_acef45f3e768560e8fcd6dfa3cd29f97c}\label{classxb_1_1xbRelate_acef45f3e768560e8fcd6dfa3cd29f97c}} 
\index{xb::xbRelate@{xb::xbRelate}!AddRelation@{AddRelation}}
\index{AddRelation@{AddRelation}!xb::xbRelate@{xb::xbRelate}}
\doxysubsubsection{\texorpdfstring{AddRelation()}{AddRelation()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily xb\+Int16 xb\+::xb\+Relate\+::\+Add\+Relation (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classxb_1_1xbDbf}{xb\+Dbf}} $\ast$}]{d\+Parent,  }\item[{const \mbox{\hyperlink{classxb_1_1xbString}{xb\+String}} \&}]{s\+Parent\+Expression,  }\item[{\mbox{\hyperlink{classxb_1_1xbDbf}{xb\+Dbf}} $\ast$}]{d\+Child,  }\item[{xb\+Ix $\ast$}]{p\+Child\+Ix,  }\item[{void $\ast$}]{p\+Child\+Tag,  }\item[{char}]{c\+Type = {\ttfamily \textquotesingle{}O\textquotesingle{}},  }\item[{const \mbox{\hyperlink{classxb_1_1xbString}{xb\+String}} \&}]{s\+Filter = {\ttfamily \char`\"{}\char`\"{}} }\end{DoxyParamCaption})}



Add a relationship to an xb\+Relation. 

This routine is called after the \mbox{\hyperlink{classxb_1_1xbRelate_a7cdeaea89342d09cef5d269e3db67c86}{Set\+Master()}} method is called.


\begin{DoxyParams}{Parameters}
{\em d\+Parent} & Pointer to parent/master table. \\
\hline
{\em s\+Parent\+Expression} & Parent table expression that links to the child table. \\
\hline
{\em d\+Child} & Pointer to child/slave table. \\
\hline
{\em p\+Child\+Ix} & Pointer to the child index file that is used to link the child to the parent table. \\
\hline
{\em p\+Child\+Tag} & Pointer to the tag in the index file that is used to link the child to the parent table. \\
\hline
{\em c\+Type} & O = Optional (left join)~\newline
R = Required (inner join) \\
\hline
{\em s\+Filter} & = Optional child tag filter (place holder for future version of software). \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
\href{xbretcod_8h.html}{\texttt{ Return Codes}} 
\end{DoxyReturn}
\mbox{\Hypertarget{classxb_1_1xbRelate_a370eec53e54530ee7a569c3bd92bd95c}\label{classxb_1_1xbRelate_a370eec53e54530ee7a569c3bd92bd95c}} 
\index{xb::xbRelate@{xb::xbRelate}!GetFirstRelRecord@{GetFirstRelRecord}}
\index{GetFirstRelRecord@{GetFirstRelRecord}!xb::xbRelate@{xb::xbRelate}}
\doxysubsubsection{\texorpdfstring{GetFirstRelRecord()}{GetFirstRelRecord()}}
{\footnotesize\ttfamily xb\+Int16 xb\+::xb\+Relate\+::\+Get\+First\+Rel\+Record (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Get First Rel Record. 

Used to position to the first composite record defined for the relation. After execution, all tables are positioned to the appropriate record. If the linkage is defined as optional and there is no associated record for a given table, the table will be positioned to blank record 0.

\begin{DoxyReturn}{Returns}
\href{xbretcod_8h.html}{\texttt{ Return Codes}} 
\end{DoxyReturn}
\mbox{\Hypertarget{classxb_1_1xbRelate_a78f3c4d7aa47405512848c8f729bc380}\label{classxb_1_1xbRelate_a78f3c4d7aa47405512848c8f729bc380}} 
\index{xb::xbRelate@{xb::xbRelate}!GetLastRelRecord@{GetLastRelRecord}}
\index{GetLastRelRecord@{GetLastRelRecord}!xb::xbRelate@{xb::xbRelate}}
\doxysubsubsection{\texorpdfstring{GetLastRelRecord()}{GetLastRelRecord()}}
{\footnotesize\ttfamily xb\+Int16 xb\+::xb\+Relate\+::\+Get\+Last\+Rel\+Record (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Get Last Rel Record. 

Used to position to the last composite record defined for the relation. After execution, all tables are positioned to the appropriate record. If the linkage is defined as optional and there is no associated record for a given table, the table will be positioned to blank record 0.

\begin{DoxyReturn}{Returns}
\href{xbretcod_8h.html}{\texttt{ Return Codes}} 
\end{DoxyReturn}
\mbox{\Hypertarget{classxb_1_1xbRelate_af06ce562407cc49d6c58df202974f09e}\label{classxb_1_1xbRelate_af06ce562407cc49d6c58df202974f09e}} 
\index{xb::xbRelate@{xb::xbRelate}!GetNextRelRecord@{GetNextRelRecord}}
\index{GetNextRelRecord@{GetNextRelRecord}!xb::xbRelate@{xb::xbRelate}}
\doxysubsubsection{\texorpdfstring{GetNextRelRecord()}{GetNextRelRecord()}}
{\footnotesize\ttfamily xb\+Int16 xb\+::xb\+Relate\+::\+Get\+Next\+Rel\+Record (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Get Next Rel Record. 

Used to position to the next composite record defined for the relation. After execution, all tables are positioned to the appropriate record. If the linkage is defined as optional and there is no associated record for a given table, the table will be positioned to blank record 0.

\begin{DoxyReturn}{Returns}
\href{xbretcod_8h.html}{\texttt{ Return Codes}} 
\end{DoxyReturn}
\mbox{\Hypertarget{classxb_1_1xbRelate_af2d4a35dd35ba35294a427ea2b695157}\label{classxb_1_1xbRelate_af2d4a35dd35ba35294a427ea2b695157}} 
\index{xb::xbRelate@{xb::xbRelate}!GetPrevRelRecord@{GetPrevRelRecord}}
\index{GetPrevRelRecord@{GetPrevRelRecord}!xb::xbRelate@{xb::xbRelate}}
\doxysubsubsection{\texorpdfstring{GetPrevRelRecord()}{GetPrevRelRecord()}}
{\footnotesize\ttfamily xb\+Int16 xb\+::xb\+Relate\+::\+Get\+Prev\+Rel\+Record (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Get Prev Rel Record. 

Used to position to the previous composite record defined for the relation. After execution, all tables are positioned to the appropriate record. If the linkage is defined as optional and there is no associated record for a given table, the table will be positioned to blank record 0.

\begin{DoxyReturn}{Returns}
\href{xbretcod_8h.html}{\texttt{ Return Codes}} 
\end{DoxyReturn}
\mbox{\Hypertarget{classxb_1_1xbRelate_a7cdeaea89342d09cef5d269e3db67c86}\label{classxb_1_1xbRelate_a7cdeaea89342d09cef5d269e3db67c86}} 
\index{xb::xbRelate@{xb::xbRelate}!SetMaster@{SetMaster}}
\index{SetMaster@{SetMaster}!xb::xbRelate@{xb::xbRelate}}
\doxysubsubsection{\texorpdfstring{SetMaster()}{SetMaster()}}
{\footnotesize\ttfamily xb\+Int16 xb\+::xb\+Relate\+::\+Set\+Master (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classxb_1_1xbDbf}{xb\+Dbf}} $\ast$}]{d\+Tbl,  }\item[{const \mbox{\hyperlink{classxb_1_1xbString}{xb\+String}} \&}]{s\+Filter = {\ttfamily \char`\"{}\char`\"{}} }\end{DoxyParamCaption})}



Set Master Table for an xb\+Relation. 

Set the master table for an xb\+Relation. This routine is called first before any of the \mbox{\hyperlink{classxb_1_1xbRelate_a497fb6f8abf51293a4c30733584391a2}{Add\+Relation()}} or any of the Get methods are called.


\begin{DoxyParams}{Parameters}
{\em d\+Tbl} & -\/ Pointer to parent/master table. \\
\hline
{\em s\+Filter} & = Optional filter (place holder for future version of software). \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
\href{xbretcod_8h.html}{\texttt{ Return Codes}} 
\end{DoxyReturn}


The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
/mnt/1\+Tdata/xbase/xbase64-\/4.\+1.\+11/src/include/\mbox{\hyperlink{xbrelate_8h}{xbrelate.\+h}}\end{DoxyCompactItemize}
